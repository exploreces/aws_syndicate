const axios = require('axios');

async function getWeatherData() {
    try {
        const url = 'https://api.open-meteo.com/v1/forecast';
        const params = {
            latitude: 50.4375,
            longitude: 30.5,
            current: 'temperature_2m,wind_speed_10m',
            hourly: 'temperature_2m,relative_humidity_2m,wind_speed_10m',
            timezone: 'Europe/Kiev'
        };

        const response = await axios.get(url, { params });
        return response.data;  // Return the full JSON response
    } catch (error) {
        console.error("Weather API Error:", error);
        throw new Error("Failed to fetch weather data");
    }
}

module.exports = { getWeatherData };
